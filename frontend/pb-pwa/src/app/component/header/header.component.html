<mat-toolbar color="primary">
  <mat-toolbar-row>
    <div
      fxLayout="row"
      fxLayoutAlign="space-between center"
      fxLayoutGap="10px"
      fxFlexFill>
      <div fxFlex="10 150px">
        <img class="pb-header-logo" alt="Power Logo" src="./assets/powerbot_logo.png"/>
      </div>
      <div fxFlex="10 150px">
        <button
          mat-raised-button
          color="primary"
          [matMenuTriggerFor]="connection"
        >
          <mat-icon>power_setting_new</mat-icon>
          Connection
        </button>
        <mat-menu
          #connection="matMenu"
        >
          <button mat-menu-item (click)="openSettingsModal($event)">
            <mat-icon>settings</mat-icon>
            <span>Configuration</span>
          </button>
          <button mat-menu-item [disabled]="getProductionDisabled()" (click)="connectProduction($event)">
            <mat-icon>flash_on</mat-icon>
            <span>Connect Production</span>
          </button>
          <button mat-menu-item [disabled]="getTestDisabled()" (click)="connectTest($event)">
            <mat-icon>flash_on</mat-icon>
            <span>Connect Test</span>
          </button>
          <button mat-menu-item [disabled]="getDisconnectDisabled()" (click)="disconnectApi($event)">
            <mat-icon>flash_off</mat-icon>
            <span>Disconnect</span>
          </button>
        </mat-menu>
        &nbsp;
        <button
          mat-raised-button
          color="primary"
          [matMenuTriggerFor]="market"
        >
          <mat-icon>timeline</mat-icon>
          Market
        </button>
        <mat-menu
          #market="matMenu"
        >
          <button mat-menu-item (click)="openMarketModal($event)">
            <mat-icon>settings</mat-icon>
            <span>Configuration</span>
          </button>
          <button mat-menu-item [disabled]="getMarketDisabled()" (click)="openMarketModal($event)">
            <mat-icon>flash_on</mat-icon>
            <span>Connect Market</span>
          </button>
          <button mat-menu-item [disabled]="!getMarketDisabled()" (click)="disconnectMarket($event)">
            <mat-icon>flash_off</mat-icon>
            <span>Disconnect Market</span>
          </button>
        </mat-menu>
      </div>
      <div fxFlex="70">
        <pb-bar-state [entity]="this.entity"></pb-bar-state>
      </div>
      <div fx-flex="10 150px">
        <fg-actions [entity]="this" (event)="handleActionBarEvent($event)"></fg-actions>
      </div>
    </div>
  </mat-toolbar-row>
</mat-toolbar>

